<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>KO calling other KOs | Knowledge Grid Guides</title>
    <meta name="description" content="">
    <meta name="generator" content="VuePress 1.3.0">
    <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@kgrid">
  <meta name="twitter:creator" content="@kgrid">
  <meta property="og:type" content="article">
  <meta property="og:title" content="Guides">
  <meta property="og:site_name" content="Guides">
  <meta property="og:url" content="https://kgrid.org">
    
    <link rel="preload" href="/guides/assets/css/0.styles.0ec06c2e.css" as="style"><link rel="preload" href="/guides/assets/js/app.860ccf3d.js" as="script"><link rel="preload" href="/guides/assets/js/2.95a6c053.js" as="script"><link rel="preload" href="/guides/assets/js/27.beddcc69.js" as="script"><link rel="prefetch" href="/guides/assets/js/10.7f1183aa.js"><link rel="prefetch" href="/guides/assets/js/11.d98757c9.js"><link rel="prefetch" href="/guides/assets/js/12.ea863967.js"><link rel="prefetch" href="/guides/assets/js/13.fdd1bc65.js"><link rel="prefetch" href="/guides/assets/js/14.0f0f640f.js"><link rel="prefetch" href="/guides/assets/js/15.1cdc620d.js"><link rel="prefetch" href="/guides/assets/js/16.ada82b0b.js"><link rel="prefetch" href="/guides/assets/js/17.5a4c6ec3.js"><link rel="prefetch" href="/guides/assets/js/18.ed8771b6.js"><link rel="prefetch" href="/guides/assets/js/19.aa6ee8f6.js"><link rel="prefetch" href="/guides/assets/js/20.fe015baf.js"><link rel="prefetch" href="/guides/assets/js/21.c3229601.js"><link rel="prefetch" href="/guides/assets/js/22.91723adb.js"><link rel="prefetch" href="/guides/assets/js/23.0662bb09.js"><link rel="prefetch" href="/guides/assets/js/24.f5ddacb0.js"><link rel="prefetch" href="/guides/assets/js/25.394de597.js"><link rel="prefetch" href="/guides/assets/js/26.ed6e4c06.js"><link rel="prefetch" href="/guides/assets/js/28.c6a38354.js"><link rel="prefetch" href="/guides/assets/js/29.ba269e9d.js"><link rel="prefetch" href="/guides/assets/js/3.4629a8db.js"><link rel="prefetch" href="/guides/assets/js/30.b555e477.js"><link rel="prefetch" href="/guides/assets/js/31.939bb9b0.js"><link rel="prefetch" href="/guides/assets/js/32.bff365c9.js"><link rel="prefetch" href="/guides/assets/js/33.7e74b8e6.js"><link rel="prefetch" href="/guides/assets/js/4.a99614da.js"><link rel="prefetch" href="/guides/assets/js/5.ebf1d34c.js"><link rel="prefetch" href="/guides/assets/js/6.e3795578.js"><link rel="prefetch" href="/guides/assets/js/7.8db7dd3c.js"><link rel="prefetch" href="/guides/assets/js/8.ab8e7793.js"><link rel="prefetch" href="/guides/assets/js/9.34e04037.js">
    <link rel="stylesheet" href="/guides/assets/css/0.styles.0ec06c2e.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/guides/" class="home-link router-link-active"><!----> <span class="site-name">Knowledge Grid Guides</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="https://kgrid.org" target="_blank" rel="noopener noreferrer" class="nav-link external">
  KGrid.org
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Guide" class="dropdown-title"><span class="title">Guide</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/guides/quickstart/" class="nav-link">
  Quick Start
</a></li><li class="dropdown-item"><!----> <a href="/guides/developer/" class="nav-link">
  Developer's Guide
</a></li><li class="dropdown-item"><!----> <a href="/guides/integrator/" class="nav-link">
  Integrator's Guide
</a></li><li class="dropdown-item"><!----> <a href="/guides/tutorial/" class="nav-link router-link-active">
  Advanced Tutorial
</a></li></ul></div></div><div class="nav-item"><a href="/guides/api/" class="nav-link">
  API
</a></div><div class="nav-item"><a href="/guides/awesome/" class="nav-link">
  Awesome
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Help" class="dropdown-title"><span class="title">Help</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/guides/faq/" class="nav-link">
  FAQ
</a></li><li class="dropdown-item"><!----> <a href="mailto:kgrid-developers@umich.edu" class="nav-link external">
  Email
  <!----></a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Event" class="dropdown-title"><span class="title">Event</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/guides/workshop2019.html" class="nav-link">
  Fall 2019 Workshop
</a></li></ul></div></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="https://kgrid.org" target="_blank" rel="noopener noreferrer" class="nav-link external">
  KGrid.org
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Guide" class="dropdown-title"><span class="title">Guide</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/guides/quickstart/" class="nav-link">
  Quick Start
</a></li><li class="dropdown-item"><!----> <a href="/guides/developer/" class="nav-link">
  Developer's Guide
</a></li><li class="dropdown-item"><!----> <a href="/guides/integrator/" class="nav-link">
  Integrator's Guide
</a></li><li class="dropdown-item"><!----> <a href="/guides/tutorial/" class="nav-link router-link-active">
  Advanced Tutorial
</a></li></ul></div></div><div class="nav-item"><a href="/guides/api/" class="nav-link">
  API
</a></div><div class="nav-item"><a href="/guides/awesome/" class="nav-link">
  Awesome
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Help" class="dropdown-title"><span class="title">Help</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/guides/faq/" class="nav-link">
  FAQ
</a></li><li class="dropdown-item"><!----> <a href="mailto:kgrid-developers@umich.edu" class="nav-link external">
  Email
  <!----></a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Event" class="dropdown-title"><span class="title">Event</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/guides/workshop2019.html" class="nav-link">
  Fall 2019 Workshop
</a></li></ul></div></div> <!----></nav>  <ul class="sidebar-links"><li><a href="/guides/tutorial/" class="sidebar-link">Overview</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/guides/tutorial/#before-we-start" class="sidebar-link">Before We Start</a></li></ul></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>Anatomy of a KO</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/guides/tutorial/ko/overview.html" class="sidebar-link">Knowledge Object Overview</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/guides/tutorial/ko/overview.html#knowledge-object" class="sidebar-link">Knowledge Object</a></li></ul></li><li><a href="/guides/tutorial/ko/koio.html" class="sidebar-link">KOIO</a></li></ul></section></li><li><a href="/guides/tutorial/createko.html" class="sidebar-link">KO Service with Dependencies</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/guides/tutorial/createko.html#create-bundled-ko-service" class="sidebar-link">Create bundled KO Service</a></li><li class="sidebar-sub-header"><a href="/guides/tutorial/createko.html#build-bundled-ko-service" class="sidebar-link">Build bundled KO Service</a></li><li class="sidebar-sub-header"><a href="/guides/tutorial/createko.html#activate-bundled-ko-service" class="sidebar-link">Activate bundled KO Service</a></li></ul></li><li><a href="/guides/tutorial/packageko.html" class="sidebar-link">Package the KO</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/guides/tutorial/packageko.html#file-name-for-the-zip-file" class="sidebar-link">File Name for the ZIP File</a></li><li class="sidebar-sub-header"><a href="/guides/tutorial/packageko.html#using-kgrid-cli" class="sidebar-link">Using KGRID CLI</a></li><li class="sidebar-sub-header"><a href="/guides/tutorial/packageko.html#next-step" class="sidebar-link">Next step</a></li></ul></li><li><a href="/guides/tutorial/deployko.html" class="sidebar-link">Deploy the packaged KO</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/guides/tutorial/deployko.html#deploy-using-kgrid-cli" class="sidebar-link">Deploy using KGRID CLI</a></li><li class="sidebar-sub-header"><a href="/guides/tutorial/deployko.html#directly-call-kgrid-api" class="sidebar-link">Directly call KGRID API</a></li><li class="sidebar-sub-header"><a href="/guides/tutorial/deployko.html#try-the-deployed-ko" class="sidebar-link">Try the deployed KO</a></li></ul></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>KO Service OpenAPI</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/guides/tutorial/openapi/overview.html" class="sidebar-link">KO Service OpenAPI</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/guides/tutorial/openapi/overview.html#structure" class="sidebar-link">Structure</a></li><li class="sidebar-sub-header"><a href="/guides/tutorial/openapi/overview.html#resources" class="sidebar-link">Resources</a></li></ul></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>KO Service Testing</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/guides/tutorial/testing/unit.html" class="sidebar-link">Unit Testing</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/guides/tutorial/testing/unit.html#using-rewire" class="sidebar-link">Using Rewire</a></li><li class="sidebar-sub-header"><a href="/guides/tutorial/testing/unit.html#resources" class="sidebar-link">Resources</a></li></ul></li><li><a href="/guides/tutorial/testing/integration.html" class="sidebar-link">Integration Testing</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/guides/tutorial/testing/integration.html#postman" class="sidebar-link">Postman</a></li><li class="sidebar-sub-header"><a href="/guides/tutorial/testing/integration.html#newman" class="sidebar-link">Newman</a></li></ul></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>KO Service Clients</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/guides/tutorial/clients/curl.html" class="sidebar-link">Curl</a></li><li><a href="/guides/tutorial/clients/httpie.html" class="sidebar-link">HTTPie</a></li><li><a href="/guides/tutorial/clients/postman.html" class="sidebar-link">Postman</a></li><li><a href="/guides/tutorial/clients/swagger.html" class="sidebar-link">Swagger Editor</a></li></ul></section></li><li><a href="/guides/tutorial/executiveobject.html" class="active sidebar-link">KO calling other KOs</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/guides/tutorial/executiveobject.html#context-of-nashhorn" class="sidebar-link">Context of Nashhorn</a></li><li class="sidebar-sub-header"><a href="/guides/tutorial/executiveobject.html#get-the-executor" class="sidebar-link">Get the executor</a></li><li class="sidebar-sub-header"><a href="/guides/tutorial/executiveobject.html#pass-in-the-inputs" class="sidebar-link">Pass in the inputs</a></li><li class="sidebar-sub-header"><a href="/guides/tutorial/executiveobject.html#work-with-the-result" class="sidebar-link">Work with the result</a></li><li class="sidebar-sub-header"><a href="/guides/tutorial/executiveobject.html#an-example" class="sidebar-link">An example</a></li><li class="sidebar-sub-header"><a href="/guides/tutorial/executiveobject.html#note" class="sidebar-link">Note</a></li></ul></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="ko-calling-other-kos"><a href="#ko-calling-other-kos" class="header-anchor">#</a> KO calling other KOs</h1> <p>An executive Knowledge Object can call the functions from other knowledge Objects, orchestrating the data flow and process among these KOs.</p> <p>In this tutorial, we are demonstrating the concept of the executive object. The example KO is  for Nashorn script engine, which is the script engine used in the reference implementation of KGrid Activator.</p> <p>To do so, you will need to use Nashorn context to retrieve the executor from the dependent KOs.</p> <h2 id="context-of-nashhorn"><a href="#context-of-nashhorn" class="header-anchor">#</a> Context of Nashhorn</h2> <p>Nashorn script Engine has <code>context</code> where the objects and functions are stored. After the KOs are activated, each KO executor can be accessed in the context.</p> <h2 id="get-the-executor"><a href="#get-the-executor" class="header-anchor">#</a> Get the executor</h2> <p>In the script of the executive object, the following code will retrieve the executor for the KO of <code>ark:/99999/helloworld/</code>. You will replace this ARK id with the Ark ID of the KO you'd like to call.</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code>  <span class="token keyword">var</span> executor <span class="token operator">=</span> context<span class="token punctuation">.</span><span class="token function">getExecutor</span><span class="token punctuation">(</span><span class="token string">&quot;99999-helloworld/welcome&quot;</span><span class="token punctuation">)</span>
</code></pre></div><h2 id="pass-in-the-inputs"><a href="#pass-in-the-inputs" class="header-anchor">#</a> Pass in the inputs</h2> <p>The executive object should have known the input schema for the KOs it is calling. It will construct the inputs for each child KO and pass to the respective KO's executor as argument.</p> <p>As shown below, <code>obj</code> is the input for <code>executor</code></p> <div class="language-javascript extra-class"><pre class="language-javascript"><code>  <span class="token keyword">var</span> result <span class="token operator">=</span> executor<span class="token punctuation">.</span><span class="token function">execute</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span>
</code></pre></div><h2 id="work-with-the-result"><a href="#work-with-the-result" class="header-anchor">#</a> Work with the result</h2> <p>As shown in the above code, the result returned from the child KOs will be aggregated by the executive object. The results can then be used in the consecutive codes in the executive object. The Executive object will eventually return its own response to the service request.</p> <h2 id="an-example"><a href="#an-example" class="header-anchor">#</a> An example</h2> <p>KGRID CLI includes an example template so that you can use <code>kgrid create</code> to create an executive object to try it. It will call the simple KO you created during going through the developer's guide.</p> <div class="language-bash extra-class"><pre class="language-bash"><code>  kgrid create newko --executive
</code></pre></div><p>After <code>newko</code> is created, change to the directory of the ko folder, modify the file <code>/src/index.js</code> to get the executor for the simple KO you created.</p> <p>You can now try the executive object in your local activator.</p> <h2 id="note"><a href="#note" class="header-anchor">#</a> Note</h2> <p>The section shows the concept of 'Executive Object' which orchestrating and calling other KOs. For different implementations of Activator, the actual code structure and syntax for constructing the Executive Object will be different.</p></div> <footer class="page-edit"><!----> <div class="last-updated"><span class="prefix">Last Updated:</span> <span class="time">11/25/2019, 6:20:00 PM</span></div></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/guides/tutorial/clients/swagger.html" class="prev">
        Swagger Editor
      </a></span> <!----></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/guides/assets/js/app.860ccf3d.js" defer></script><script src="/guides/assets/js/2.95a6c053.js" defer></script><script src="/guides/assets/js/27.beddcc69.js" defer></script>
  </body>
</html>
