(window.webpackJsonp=window.webpackJsonp||[]).push([[14],{218:function(t,a,s){"use strict";s.r(a);var e=s(0),r=Object(e.a)({},(function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("h1",{attrs:{id:"kgrid-activator"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#kgrid-activator"}},[t._v("#")]),t._v(" KGrid Activator")]),t._v(" "),s("h2",{attrs:{id:"running-the-activator"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#running-the-activator"}},[t._v("#")]),t._v(" Running the Activator")]),t._v(" "),s("p",[t._v("Download the latest activator jar from GitHub "),s("a",{attrs:{href:"https://github.com/kgrid/kgrid-activator/releases/latest",target:"_blank",rel:"noopener noreferrer"}},[t._v("Latest Activator Release"),s("OutboundLink")],1),t._v(".")]),t._v(" "),s("ol",[s("li",[t._v("Create a activator directory")]),t._v(" "),s("li",[t._v("Create a directory named shelf in the new activator directory")]),t._v(" "),s("li",[t._v("Download "),s("a",{attrs:{href:"https://github.com/kgrid/kgrid-activator/releases/latest",target:"_blank",rel:"noopener noreferrer"}},[t._v("kgrid-activator-#.#.#.jar"),s("OutboundLink")],1)]),t._v(" "),s("li",[t._v("Place the kgrid-activator-#.#.#.jar into the activator")]),t._v(" "),s("li",[t._v("Download "),s("a",{attrs:{href:"https://github.com/kgrid-objects/example-collection/releases/latest",target:"_blank",rel:"noopener noreferrer"}},[t._v("hello-world.zip"),s("OutboundLink")],1)]),t._v(" "),s("li",[t._v("Place the hello-world.zip into the activator/shelf directory and unzip. This will place the KOs into the shelf directory")])]),t._v(" "),s("p",[t._v("Directory structure should look similar to the following")]),t._v(" "),s("div",{staticClass:"language-text extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v(" ├── activator   \n │  └──  shelf\n │     └── hello-world  \n │          ├── metadata.json\n │            ├── v0.1.0\n │            │   ├── metadata.json\n │            │   ├── service.yaml\n │            │   └── src\n │            │       └── index.js\n │            ├── v0.2.0\n │            │   ├── dist\n │            │   │   └── main.js\n │            │   ├── metadata.json\n │            │   └── service.yaml\n │            └── v0.3.0\n │                ├── dist\n │                │   └── main.js\n │                ├── metadata.json\n │                └── service.yaml\n └── kgrid-activator-#.#.#.jar\n")])])]),s("p",[t._v("The activator is executable jar and can be run from the command line.  Open a terminal window and navigate to the direcoty where the jar and shelf are located.")]),t._v(" "),s("p",[t._v("Type in the following.")]),t._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[t._v(" java -jar kgrid-activator-"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#.#.#.jar")]),t._v("\n")])])]),s("p",[t._v("By default the activator will run on port 8080. You can validate the activator is up and running using\nthe "),s("a",{attrs:{href:"http://localhost:8080/health",target:"_blank",rel:"noopener noreferrer"}},[t._v("activators health endpoint"),s("OutboundLink")],1),t._v(".  The health of the Activator should display a status of "),s("strong",[t._v("UP")]),t._v(".")]),t._v(" "),s("div",{staticClass:"language-json extra-class"},[s("pre",{pre:!0,attrs:{class:"language-json"}},[s("code",[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n   "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"status"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"UP"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n   "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"shelf"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"status"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"UP"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"kgrid.shelf.cdostore.url"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"shelf"')]),t._v("\n   "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n   "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"activationService"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"status"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"UP"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"Knowledge Objects found"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"Adapters loaded"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"JAVASCRIPT"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"PROXY"')]),t._v("\n       "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n   "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"EndPoints loaded"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"hello/world/v0.0.1/welcome"')]),t._v("\n   "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n   "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n   "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"diskSpace"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"status"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"UP"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"total"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("499963170816")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"free"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("415911948288")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"threshold"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("10485760")]),t._v("\n   "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n")])])]),s("p",[t._v("The Hello World is a very simple KO with a Javascript based service that takes in a name and displays\na "),s("em",[t._v("Welcome to the Knowledge Grid")]),t._v(" message.")]),t._v(" "),s("p",[t._v("First lets look at the Hello World's metadata. Hello World")]),t._v(" "),s("ul",[s("li",[t._v("View the "),s("a",{attrs:{href:"http://localhost:8080/hello/world",target:"_blank",rel:"noopener noreferrer"}},[t._v("Hello World"),s("OutboundLink")],1),t._v(" Knowledge Object")]),t._v(" "),s("li",[t._v("View version 0.1.0 of the "),s("a",{attrs:{href:"http://localhost:8080/hello/world/v0.1.0",target:"_blank",rel:"noopener noreferrer"}},[t._v("Hello World 0.1.0"),s("OutboundLink")],1)])]),t._v(" "),s("p",[t._v("The Hello World KO has one service called "),s("em",[t._v("welcome")]),t._v(".  The welcome service expects you to pass it a name as a json\nobject, for example "),s("em",[t._v('{"name":"Fred Flintstone"}')]),t._v(".  The following is a curl POST to the Hello World\nwelcome.")]),t._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[t._v("curl")]),t._v(" -X POST -H "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Content-Type:application/json"')]),t._v("  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("\n    -d "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"{'),s("span",{pre:!0,attrs:{class:"token entity",title:'\\"'}},[t._v('\\"')]),t._v("name"),s("span",{pre:!0,attrs:{class:"token entity",title:'\\"'}},[t._v('\\"')]),t._v(": "),s("span",{pre:!0,attrs:{class:"token entity",title:'\\"'}},[t._v('\\"')]),t._v("Fred Flintstone"),s("span",{pre:!0,attrs:{class:"token entity",title:'\\"'}},[t._v('\\"')]),t._v('}"')]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("\n     http://localhost:8080/hello/world/v0.1.0/welcome\n\n")])])]),s("p",[t._v("The Hello World KO will return the following")]),t._v(" "),s("div",{staticClass:"language-json extra-class"},[s("pre",{pre:!0,attrs:{class:"language-json"}},[s("code",[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"result"')]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Welcome to Knowledge Grid, Fred Flintstone"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"info"')]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"ko"')]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"@id"')]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"hello-world"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"@type"')]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"koio:KnowledgeObject"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"identifier"')]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"ark:/hello/world"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"version"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"v0.1.0"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"title"')]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Implementation koio v1 of Hello World"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"hasServiceSpecification"')]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"service.yaml"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"hasPayload"')]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"welcome.js"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"@context"')]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"http://kgrid.org/koio/contexts/knowledgeobject.jsonld"')]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"inputs"')]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"name"')]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Fred Flintstone"')]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),s("h2",{attrs:{id:"configuration"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#configuration"}},[t._v("#")]),t._v(" Configuration")]),t._v(" "),s("p",[t._v("There are several settings that you can control on the Activator.")]),t._v(" "),s("p",[s("strong",[t._v("Activator Knowledge Object Shelf Location")])]),t._v(" "),s("p",[t._v("By default the activator will look for a "),s("em",[t._v("shelf")]),t._v(" in jar execution directory but the location the "),s("em",[t._v("shelf")]),t._v(" can be configured:")]),t._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[t._v("java -jar kgrid-activator-1.1.2.jar --kgrid.shelf.cdostore.url"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("filesystem:file:///data/myshelf\n\njava -jar kgrid-activator-1.1.2.jar --kgrid.shelf.cdostore.url"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("filesystem:file:///c:/Users/me/myshelf\n")])])]),s("p",[s("strong",[t._v("Activator Cross-Origin Resource Sharing (CORS)")]),t._v("\nThe Activator by default allows all origins access to the api. You can tighten that access via the\ncors.url parameter.")]),t._v(" "),s("p",[t._v("To change the origins allowed:")]),t._v(" "),s("p",[s("code",[t._v("java -jar kgrid-activator-1.1.2.jar --cors.url=https://myservice.com")])]),t._v(" "),s("p",[s("strong",[t._v("Activator Server Port")])]),t._v(" "),s("p",[t._v("To change the port:")]),t._v(" "),s("p",[s("code",[t._v("java -jar kgrid-activator-1.1.2.jar --server.port=9090")])]),t._v(" "),s("p",[s("strong",[t._v("Activator Server Path")])]),t._v(" "),s("p",[t._v("By default the endpoints of the activator at the root of the activator server.  To change the server root path:")]),t._v(" "),s("p",[s("code",[t._v("java -jar kgrid-activator-1.1.2.jar --server.contextPath=/activator")])]),t._v(" "),s("p",[s("strong",[t._v("Activator Object Auto-Reload")])]),t._v(" "),s("p",[t._v("By default the activator does not automatically reload objects but it can be configured to activate an object when it detects a change to a file on the shelf by setting this property:")]),t._v(" "),s("p",[s("code",[t._v("java -jar kgrid-activator-1.1.2.jar --kgrid.activator.autoreload=true")])])])}),[],!1,null,null,null);a.default=r.exports}}]);